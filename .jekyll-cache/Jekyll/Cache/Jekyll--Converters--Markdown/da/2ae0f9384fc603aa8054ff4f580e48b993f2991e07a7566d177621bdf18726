I"<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2015年09月11日，重要更新：
以下都是扯淡。现在jekyll已经原生支持语法高亮了。
直接将代码放到  {% highlight language %} 和 {% endhighlight %} 之间就ok了。
</code></pre></div></div>

<hr />

<p>使用jekyll的人，我想大部分都应该经常和代码打交道吧。那代码高亮自然少不了，今天就讲讲如何在jekyll中配置代码高亮。</p>

<p>代码高亮的工具有很多。jekyll原生支持的是<a href="http://pygments.org/">pygments</a>.
使的博客上的代码高亮的原理是用pygments生成一个css文件供页面引用，然后用jekyll的pygments插件将博客源文件中的代码处理成能使用该css的html代码。最后在浏览器的渲染下，代码就亮起来了。</p>

<p>看名字就应该知道这pygments是一个python写的东西了。那就可以用<a href="https://pypi.python.org/pypi/pip">pip</a>来安装了。</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">pip <span class="nb">install </span>Pygments</code></pre></figure>

<p>至于pip是什么，以及如何安装pip，就请自行google了。</p>

<p>安装完之后就应该用他来生成css文件了：</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">blogRoot <span class="nv">$ </span>pygmentize <span class="nt">-S</span> default <span class="nt">-f</span> html <span class="o">&gt;</span> css/pygments.css</code></pre></figure>

<p>这条命令的两个参数分别指定的是默认的配色方案和目标格式是html。关于参数解释和其他可选参数请看<a href="http://pygments.org/docs/cmdline/">官方文档</a></p>

<p>有了这个css文件，要生效当然要在页面里引用。对于我这偷懒的人来说，就直接放在<em>_includes/head.html</em>里了，这样做的好处和坏处都是每个页面都有这个css了。</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"/css/pygments.css"</span><span class="nt">&gt;</span></code></pre></figure>

<p>现在css已经具备了。接下来要做的就是将页面上的代码转换成符合这个css的html了。我们先用gem安装pygment.rb</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>gem <span class="nb">install </span>pygments.rb</code></pre></figure>

<p>然后在配置文件<em>_config.yml</em>中添加一行，告诉jekyll用pygment来处理高亮。</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">highlighter</span><span class="pi">:</span> <span class="s">pygments</span></code></pre></figure>

<p>我们在源文件中，将代码放到  {% highlight language %} 和 {% endhighlight %} 之间就ok了。 其中language支持那些以及怎么写依然可以参照<a href="http://pygments.org/docs/lexers/">官网</a>。
如果官方提供的300多种语言都不够用的话，那你干脆自己写一个得了。反正pygments支持自定义。
到这，你的代码就应该亮起来了！</p>

<p>说句题外话。jekyll的口号是：什么都不用管，只用关心你的博客内容。我觉得就是扯淡。会自己搭博客的人。这应该是最烂的广告了。如果什么都没得折腾。那还用你干嘛。直接oschina上注册一个账号不是更好？
就是因为可以各种折腾，我才选用jekyll的。</p>

<h1 id="生命不息折腾不止">生命不息，折腾不止。</h1>

:ET